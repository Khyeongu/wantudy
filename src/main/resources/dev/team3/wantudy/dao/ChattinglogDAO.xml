<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dev.team3.wantudy.dao.ChattinglogDAO">
	<select id="getCattinglog" parameterType="int" resultType="ChattinglogDTO">
		select *
		from
		(select rownum as rownumber, c.* from chattinglog c where study_no = #{study_no} order by no desc) a
		where a.rownumber between 1 and 10
	</select>
	
	<insert id="insertchattinglog" parameterType="ChattinglogDTO">
		insert into chattinglog values(chattinglog_no_seq.nextval, #{member_no},#{study_no},#{content},sysdate)
	</insert>
</mapper>
